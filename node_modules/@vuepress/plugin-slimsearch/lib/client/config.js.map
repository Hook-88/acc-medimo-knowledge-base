{"version":3,"file":"config.js","sources":["../../src/client/composables/useActiveState.ts","../../src/client/composables/useArrayCycle.ts","../../src/client/composables/useMobile.ts","../../src/client/utils/querySplitter.ts","../../src/client/composables/useSuggestions.ts","../../src/client/icons/keyIcons.ts","../../src/client/components/SearchBox.ts","../../src/client/components/SearchKeyHints.ts","../../src/client/components/SearchModal.ts","../../src/client/config.ts"],"sourcesContent":["import { useToggle } from '@vueuse/core'\nimport type { Ref } from 'vue'\n\nexport type ActiveState = [\n  isActive: Ref<boolean>,\n  toggleActive: (value?: boolean) => void,\n]\n\nlet activeState: ActiveState | null = null\n\n// eslint-disable-next-line no-return-assign\nexport const useActiveState = (): ActiveState => (activeState ??= useToggle())\n","import type { Ref } from 'vue'\nimport { computed, ref, watch } from 'vue'\n\nexport interface ArrayCycle<T> {\n  index: Ref<number>\n  item: Ref<T>\n  prev: () => void\n  next: () => void\n}\n\nexport const useArrayCycle = <T>(\n  target: Ref<T[]>,\n  preserveIndexWhenChange = false,\n): ArrayCycle<T> => {\n  const index = ref(0)\n  const item = computed(() => target.value[index.value])\n\n  const prev = (): void => {\n    index.value = index.value > 0 ? index.value - 1 : target.value.length - 1\n  }\n\n  const next = (): void => {\n    index.value = index.value < target.value.length - 1 ? index.value + 1 : 0\n  }\n\n  watch(target, () => {\n    if (!preserveIndexWhenChange) index.value = 0\n  })\n\n  return {\n    index,\n    item,\n    prev,\n    next,\n  }\n}\n","import { isMobile } from '@vuepress/helper/client'\nimport { useSupported } from '@vueuse/core'\nimport type { ComputedRef } from 'vue'\nimport { computed } from 'vue'\n\nexport const useMobile = (): ComputedRef<boolean> => {\n  const supportUserAgent = useSupported(\n    () => typeof window !== 'undefined' && 'userAgent' in window.navigator,\n  )\n\n  return computed(() => supportUserAgent.value && isMobile())\n}\n","const CJK_REGEXP =\n  /[\\u4e00-\\u9fff\\u3400-\\u4dbf\\u3040-\\u309f\\u30a0-\\u30ff\\uac00-\\ud7af]/\n\nexport const defaultQuerySplitter = (query = ''): string[] =>\n  query\n    .split(/\\s+/)\n    .map((word) => {\n      if (word.length > 3) {\n        const chars = word.split('')\n\n        if (chars.every((char) => CJK_REGEXP.test(char))) return chars\n      }\n\n      return word\n    })\n    .flat()\n","import { startsWith } from '@vuepress/helper/client'\nimport { watchImmediate } from '@vueuse/core'\nimport type { Ref } from 'vue'\nimport { onMounted, onUnmounted, ref } from 'vue'\nimport { useData } from 'vuepress/client'\n\nimport { useSearchOptions } from '../helpers/index.js'\nimport { createSearchWorker } from '../utils/index.js'\n\ndeclare const __SLIMSEARCH_SUGGESTION__: boolean\n\nexport interface SuggestionsRef {\n  enabled: boolean\n  suggestions: Ref<string[]>\n}\n\nexport const useSuggestions = (queries: Ref<string[]>): SuggestionsRef => {\n  const suggestions = ref<string[]>([])\n\n  if (__SLIMSEARCH_SUGGESTION__) {\n    const { page, routeLocale } = useData()\n    const searchOptions = useSearchOptions()\n\n    onMounted(() => {\n      const { suggest, terminate } = createSearchWorker()\n\n      const performSuggestion = (query: string): void => {\n        const {\n          resultsFilter,\n          querySplitter,\n          suggestionsFilter = (items): string[] => items,\n          ...options\n        } = searchOptions.value\n\n        if (query.length >= 3)\n          suggest(query, routeLocale.value, options)\n            .then((items) =>\n              suggestionsFilter(items, query, routeLocale.value, page.value),\n            )\n            .then((items) => {\n              suggestions.value = items.length\n                ? startsWith(items[0], query) &&\n                  !items[0].slice(query.length).includes(' ')\n                  ? items\n                  : [query, ...items]\n                : []\n            })\n            .catch((err: unknown) => {\n              // eslint-disable-next-line no-console\n              console.error(err)\n            })\n        else suggestions.value = []\n      }\n\n      watchImmediate([queries, routeLocale], ([newQueries]) => {\n        performSuggestion(newQueries.join(' '))\n      })\n\n      onUnmounted(() => {\n        terminate()\n      })\n    })\n  }\n\n  return {\n    enabled: __SLIMSEARCH_SUGGESTION__,\n    suggestions,\n  }\n}\n","export const ENTER_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Enter key\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3\"></path></g></svg>'\n\nexport const DOWN_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Arrow down\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M7.5 3.5v8M10.5 8.5l-3 3-3-3\"></path></g></svg>'\n\nexport const UP_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Arrow up\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M7.5 11.5v-8M10.5 6.5l-3-3-3 3\"></path></g></svg>'\n\nexport const ESC_KEY_ICON =\n  '<svg width=\"15\" height=\"15\" aria-label=\"Escape key\" role=\"img\"><g fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.2\"><path d=\"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956\"></path></g></svg>'\n","import { isIOS, isMacOS, useKeys, useLocale } from '@vuepress/helper/client'\nimport type { VNode } from 'vue'\nimport { computed, defineComponent, h, onMounted, ref } from 'vue'\n\nimport { useActiveState } from '../composables/index.js'\nimport { locales, options } from '../define.js'\nimport { SearchIcon } from './icons.js'\n\nimport '../styles/search-box.css'\n\nconst primaryHotKey = options.hotKeys[0]\n\nexport default defineComponent({\n  name: 'SearchBox',\n\n  setup() {\n    const locale = useLocale(locales)\n    const [isActive, toggleActive] = useActiveState()\n    const isAppleDevice = ref(false)\n\n    useKeys(options.hotKeys, () => {\n      if (!isActive.value) toggleActive()\n    })\n\n    const controlKeys = computed(() =>\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      primaryHotKey\n        ? [\n            ...(isAppleDevice.value\n              ? ['⌃', '⇧', '⌥', '⌘']\n              : ['Ctrl', 'Shift', 'Alt', 'Win']\n            ).filter(\n              (_, index) =>\n                primaryHotKey[\n                  (['ctrl', 'shift', 'alt', 'meta'] as const)[index]\n                ],\n            ),\n            primaryHotKey.key.toUpperCase(),\n          ]\n        : null,\n    )\n\n    onMounted(() => {\n      isAppleDevice.value = isMacOS() || isIOS()\n    })\n\n    return (): (VNode | null)[] => [\n      h(\n        'button',\n        {\n          'type': 'button',\n          'class': 'slimsearch-button',\n          'aria-label': locale.value.search,\n          'onClick': () => {\n            toggleActive(true)\n          },\n        },\n        [\n          h(SearchIcon),\n          h('div', { class: 'slimsearch-placeholder' }, locale.value.search),\n          controlKeys.value\n            ? h(\n                'div',\n                { class: 'slimsearch-key-hints' },\n                controlKeys.value.map((key) =>\n                  h('kbd', { class: 'slimsearch-key' }, key),\n                ),\n              )\n            : null,\n        ],\n      ),\n    ]\n  },\n})\n","import { useLocale } from '@vuepress/helper/client'\nimport type { VNode } from 'vue'\nimport { defineComponent, h } from 'vue'\n\nimport { useMobile } from '../composables/index.js'\nimport { locales } from '../define.js'\nimport {\n  DOWN_KEY_ICON,\n  ENTER_KEY_ICON,\n  ESC_KEY_ICON,\n  UP_KEY_ICON,\n} from '../icons/index.js'\n\nexport default defineComponent({\n  name: 'SearchKeyHints',\n\n  setup() {\n    const locale = useLocale(locales)\n    const isMobile = useMobile()\n\n    return (): VNode | null =>\n      // Key hints should only appears in PC\n      isMobile.value\n        ? null\n        : h('div', { class: 'slimsearch-hints' }, [\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: ENTER_KEY_ICON }),\n              locale.value.select,\n            ]),\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: UP_KEY_ICON }),\n              h('kbd', { innerHTML: DOWN_KEY_ICON }),\n              locale.value.navigate,\n            ]),\n            h('span', { class: 'slimsearch-hint' }, [\n              h('kbd', { innerHTML: ESC_KEY_ICON }),\n              locale.value.exit,\n            ]),\n          ])\n  },\n})\n","import { useLocale } from '@vuepress/helper/client'\nimport {\n  onClickOutside,\n  useDebounceFn,\n  useEventListener,\n  useScrollLock,\n  watchImmediate,\n} from '@vueuse/core'\nimport type { VNode } from 'vue'\nimport {\n  computed,\n  defineAsyncComponent,\n  defineComponent,\n  h,\n  onMounted,\n  onUnmounted,\n  ref,\n  shallowRef,\n  watch,\n} from 'vue'\nimport { useSiteLocale } from 'vuepress/client'\n\nimport {\n  useActiveState,\n  useArrayCycle,\n  useSuggestions,\n} from '../composables/index.js'\nimport { locales, options } from '../define.js'\nimport { useSearchOptions } from '../helpers/index.js'\nimport { CLOSE_ICON } from '../icons/index.js'\nimport { defaultQuerySplitter } from '../utils/index.js'\nimport SearchKeyHints from './SearchKeyHints.js'\nimport { SearchLoading } from './SearchLoading.js'\nimport { SearchIcon } from './icons.js'\n\nimport '../styles/search-modal.css'\n\nconst SearchResult = defineAsyncComponent({\n  loader: () =>\n    import(/* webpackChunkName: \"slimsearch-result\" */ './SearchResult.js'),\n  loadingComponent: () => {\n    const localeConfig = useLocale(locales)\n\n    return h(SearchLoading, {\n      class: 'slimsearch-result-wrapper',\n      hint: localeConfig.value.loading,\n    })\n  },\n})\n\nconst SUGGESTIONS_KEYCODE = ['ArrowDown', 'ArrowUp', 'Escape', 'Tab', 'Enter']\n\nexport default defineComponent({\n  name: 'SearchModal',\n\n  setup() {\n    const locale = useLocale(locales)\n    const siteLocale = useSiteLocale()\n    const searchOptions = useSearchOptions()\n    const [isActive, toggleActive] = useActiveState()\n\n    const input = ref('')\n    const queries = ref<string[]>([])\n    const { enabled: enabledSuggestions, suggestions } = useSuggestions(queries)\n    const showSuggestion = ref(false)\n\n    const {\n      index: activeSuggestionIndex,\n      prev: activePreviousSuggestion,\n      next: activeNextSuggestion,\n    } = useArrayCycle(suggestions)\n\n    const inputElement = shallowRef<HTMLInputElement>()\n    const suggestionsElement = shallowRef<HTMLDivElement>()\n    const body = shallowRef<HTMLElement>()\n    const isLocked = useScrollLock(body.value)\n\n    const hasSuggestions = computed(\n      () =>\n        enabledSuggestions && showSuggestion.value && suggestions.value.length,\n    )\n\n    const applySuggestion = (index = activeSuggestionIndex.value): void => {\n      input.value = suggestions.value[index]\n      showSuggestion.value = false\n    }\n\n    useEventListener(\n      'keydown',\n      (event: KeyboardEvent) => {\n        // handle suggestion keys\n        if (hasSuggestions.value) {\n          if (event.key === 'ArrowUp') activePreviousSuggestion()\n          else if (event.key === 'ArrowDown') activeNextSuggestion()\n          else if (event.key === 'Tab') applySuggestion()\n          else if (event.key === 'Enter' || event.key === 'Escape')\n            showSuggestion.value = false\n        }\n        // hide the modal when pressing the escape key\n        else if (event.key === 'Escape') {\n          toggleActive(false)\n        }\n      },\n      { passive: true },\n    )\n\n    onClickOutside(suggestionsElement, () => {\n      showSuggestion.value = false\n    })\n\n    watchImmediate(\n      input,\n      useDebounceFn(\n        () =>\n          (\n            searchOptions.value.querySplitter?.(input.value) ??\n            Promise.resolve(defaultQuerySplitter(input.value))\n          ).then((result) => {\n            queries.value = result.filter((item) => item.length)\n          }),\n        Math.min(options.searchDelay, options.suggestDelay),\n      ),\n    )\n\n    onMounted(() => {\n      body.value = document.body\n\n      watch(\n        isActive,\n        (value) => {\n          if (value) inputElement.value?.focus()\n        },\n        { flush: 'post' },\n      )\n    })\n\n    onUnmounted(() => {\n      isLocked.value = false\n    })\n\n    return (): VNode | null =>\n      isActive.value\n        ? h('div', { class: 'slimsearch-modal-wrapper' }, [\n            h('div', {\n              class: 'slimsearch-mask',\n              onClick: () => {\n                toggleActive(false)\n                input.value = ''\n              },\n            }),\n            h('div', { class: 'slimsearch-modal' }, [\n              h('div', { class: 'slimsearch-box' }, [\n                h('form', [\n                  h(\n                    'label',\n                    {\n                      'id': 'slimsearch-label',\n                      'for': 'slimsearch-input',\n                      'aria-label': locale.value.search,\n                    },\n                    h(SearchIcon),\n                  ),\n                  h('input', {\n                    'ref': inputElement,\n                    'type': 'search',\n                    'class': 'slimsearch-input',\n                    'id': 'slimsearch-input',\n                    'placeholder': locale.value.placeholder,\n                    'spellcheck': 'false',\n                    'autocapitalize': 'off',\n                    'autocomplete': 'off',\n                    'autocorrect': 'off',\n                    'name': `${siteLocale.value.title}-search`,\n                    'value': input.value,\n                    'aria-controls': 'slimsearch-results',\n                    'onKeydown': (event: KeyboardEvent): void => {\n                      if (\n                        hasSuggestions.value &&\n                        // These keys are handled by the suggestion list\n                        SUGGESTIONS_KEYCODE.includes(event.key)\n                      ) {\n                        event.preventDefault()\n                      }\n                    },\n                    'onInput': ({ target }: InputEvent) => {\n                      input.value = (target as HTMLInputElement).value\n                      showSuggestion.value = true\n                      activeSuggestionIndex.value = 0\n                    },\n                  }),\n                  input.value\n                    ? h('button', {\n                        'type': 'reset',\n                        'class': 'slimsearch-clear-button',\n                        'title': locale.value.clear,\n                        'aria-label': locale.value.clear,\n                        'innerHTML': CLOSE_ICON,\n                        'onClick': () => {\n                          input.value = ''\n                        },\n                      })\n                    : null,\n                  hasSuggestions.value\n                    ? h(\n                        'ul',\n                        {\n                          class: 'slimsearch-suggestions',\n                          ref: suggestionsElement,\n                        },\n                        suggestions.value.map((suggestion, index) =>\n                          h(\n                            'li',\n                            {\n                              class: [\n                                'slimsearch-suggestion',\n                                {\n                                  active: index === activeSuggestionIndex.value,\n                                },\n                              ],\n                              onClick: () => {\n                                applySuggestion(index)\n                              },\n                            },\n                            [\n                              h(\n                                'kbd',\n                                {\n                                  class: 'slimsearch-auto-complete',\n                                  title: `Tab ${locale.value.autocomplete}`,\n                                },\n                                'Tab',\n                              ),\n                              suggestion,\n                            ],\n                          ),\n                        ),\n                      )\n                    : null,\n                ]),\n                h(\n                  'button',\n                  {\n                    type: 'button',\n                    class: 'slimsearch-close-button',\n                    onClick: () => {\n                      toggleActive(false)\n                      input.value = ''\n                    },\n                  },\n                  locale.value.cancel,\n                ),\n              ]),\n\n              h(SearchResult, {\n                queries: queries.value,\n                isFocusing: !hasSuggestions.value,\n                onClose: () => {\n                  toggleActive(false)\n                },\n                onUpdateQuery: (query: string) => {\n                  input.value = query\n                },\n              }),\n\n              h(SearchKeyHints),\n            ]),\n          ])\n        : null\n  },\n})\n","import { defineClientConfig } from 'vuepress/client'\n\nimport SearchBox from './components/SearchBox.js'\nimport SearchModal from './components/SearchModal.js'\nimport { injectSearchConfig } from './helpers/index.js'\n\nexport default defineClientConfig({\n  enhance({ app }) {\n    injectSearchConfig(app)\n    app.component('SearchBox', SearchBox)\n  },\n  rootComponents: [SearchModal],\n})\n"],"names":["activeState","useActiveState","useToggle","useArrayCycle","target","preserveIndexWhenChange","index","ref","item","computed","prev","next","watch","useMobile","supportUserAgent","useSupported","isMobile","CJK_REGEXP","defaultQuerySplitter","query","word","chars","char","useSuggestions","queries","suggestions","page","routeLocale","useData","searchOptions","useSearchOptions","onMounted","suggest","terminate","createSearchWorker","performSuggestion","resultsFilter","querySplitter","suggestionsFilter","items","options","startsWith","err","watchImmediate","newQueries","onUnmounted","ENTER_KEY_ICON","DOWN_KEY_ICON","UP_KEY_ICON","ESC_KEY_ICON","primaryHotKey","r","defineComponent","locale","useLocale","locales","isActive","toggleActive","isAppleDevice","useKeys","controlKeys","_","isMacOS","isIOS","h","SearchIcon","key","$","SearchResult","defineAsyncComponent","localeConfig","SearchLoading","SUGGESTIONS_KEYCODE","siteLocale","useSiteLocale","input","enabledSuggestions","showSuggestion","activeSuggestionIndex","activePreviousSuggestion","activeNextSuggestion","inputElement","shallowRef","suggestionsElement","body","isLocked","useScrollLock","hasSuggestions","applySuggestion","useEventListener","event","onClickOutside","useDebounceFn","result","value","CLOSE_ICON","suggestion","SearchKeyHints","config","defineClientConfig","app","injectSearchConfig","SearchBox","SearchModal"],"mappings":"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"}